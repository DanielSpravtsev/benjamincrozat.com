---
Description: PHP 8.2 will be released in November and you might want to be up to date will all the new features and breaking changes introduced.
Published At:
Modified At:
---

# What's new in PHP 8.2? Here's everything you need to know.

## When will PHP 8.2 be released?

**PHP 8.2 will be released on November 24, 2022.**

By the way, if PHP 8.2 is no mystery to you, I wrote [an article for version 8.3](https://benjamincrozat.com/what-is-new-php-83) already!

## Deprecated partially supported callables

Did you ever use [`call_user_func()`](https://www.php.net/manual/fr/function.call-user-func.php) with one of the syntax below?

```
"self::method"
"parent::method"
"static::method"
["self", "method"]
["parent", "method"]
["static", "method"]
["Foo", "Bar::method"]
[new Foo, "Bar::method"]
```

Well, these are deprecated in PHP 8.2 and will be removed in 9.0.

Learn more: [PHP RFC: Deprecate partially supported callables](https://wiki.php.net/rfc/deprecate_partially_supported_callables)

## Deprecated dynamic properties

Dynamic properties in PHP have always been a source of unintentional error.

Rather than allowing a dynamic property to be created (at run time), the goal is that in PHP 9.0, an error will be triggered like in most programming languages. In the meantime, PHP 8.2 will cause a simple warning. (Note that stdClass still has the ability to create dynamic properties).

```php
class Foo {}

$foo = new Foo;
// Deprecated: Creation of dynamic property Foo::$bar is deprecated
$foo->bar = 'baz';
```

That being said, there are always people who have specific constraints that prevent them from adopting the latest and greatest. For them, there's the possibility to use an attribute allowing the creation of dynamic properties.

```php
#[AllowDynamicProperties]
class Foo {}

$foo = new Foo;
$foo->bar = 'baz';
```

Learn more: [PHP RFC: Deprecate dynamic properties](https://wiki.php.net/rfc/deprecate_dynamic_properties)

## System locale-independent case conversion

[`strtolower()`](https://www.php.net/strtolower) and [`strtoupper()`](https://www.php.net/strtoupper) as well as others are no longer sensitive to the language of your system, but rather to the locale you set using [`setlocale()`](https://www.php.net/setlocale). 

Instead, use [`mb_strtolower()`](https://www.php.net/mb_strtolower), [`mb_strtoupper()`](https://www.php.net/mb_strtoupper) and so on if you need to handle multiple languages at the same time.

Learn more: [PHP RFC: Locale-independent case conversion](https://wiki.php.net/rfc/strtolower-ascii)

## Redacted parameters in back traces

Any serious project should meet (among others) these two criteria:

- Hide errors in production to keep any sensitive details confidential;
- Use an error handler. (Sentry for example.)

The primary function of an error handler is to automatically retrieve all exceptions generated by your site. This way, when your users encounter a problem, you are immediately notified without them having to contact you.

Sometimes, however, exceptions may contain values that you would prefer to keep to yourself. Fortunately, a new attribute in PHP 8.2 allows you to do so.

```php
function send_message_to(
    $recipient,
    $from,
    #[\SensitiveParameter] $subject,
    #[\SensitiveParameter] $message,
) {
    throw new Exception;
}
 
// Fatal error: Uncaught Exception in foo.php:9
// Stack trace:
// #0 foo.php: send_message_to(
//                 'Terroristes',
//                 'Montgomery Burns',
//                 Object(SensitiveParameterValue),
//                 Object(SensitiveParameterValue)
//             )
send_message_to(
    recipient: 'Terrorists',
    from: 'Montgomery Burns',
    subject: "Uranium",
    message: 'Lorem ipsum sit amet…'
);
```

That's it, Monty Burns is now safe from the authorities.

Learn more: [PHP RFC: Redacting parameters in back traces](https://wiki.php.net/rfc/redact_parameters_in_back_traces)

## `null`, `true` and `false` as standalone types

Type safety in PHP has been an important topic in recent years. When used correctly, it can lead to stricter, but more reliable and secure code.

With PHP 8.2, we can now use null, true and false as full-fledged types.

For the example, let's take the cases of true and false. When you declare the return type of a function with bool in your code, you can return true, false, 0 or 1. With PHP 8.2 you can be even stricter:

```php
function foo() : true|false
{
    // Fatal error: Type contains both true and false,
    // bool should be used instead
    return 0;
}

foo();
```

## Deprecated utf8_encode() and utf8_decode()

## Deprecated ${} string interpolation

```php
$name = 'Bart';

echo "Hello, ${name}!";

// Deprecated: Using ${var} in strings is deprecated, use {$var} instead
```

```php
$name = 'Bart';

echo "Hello, $name!";
```

```php
$name = 'Bart';

echo <<<TEXT
Hello, $name!
TEXT;
```

## Read-only classes

```php
class Pokemon
{
	public readonly string $name;
  
	public readonly int $size;
  
    public readonly Type $firstType;
  
    public readonly ?Type $secondType = null;
}
```

```php
readonly class Pokemon
{
	public string $name;
  
	public int $size;
  
    public Type $firstType;
  
    public ?Type $secondType = null;
}
```

## Disjunctive Normal Form Types

```php
function foo((A&B)|(C&D&E)|Bar|null $baz) {
    …
}
```

## Fetch properties of enums in const expressions

```php
enum Pokemon: string {
    case bulbasaur = "Bulasaur";
    case charmander = "Charmander";
    case squirtle = "Squirtle";
}

class Kanto {
    public const POKEMON = [
        Pokemon::bulbasaur->value,
        Pokemon::charmander->value,
        Pokemon::squirtle->value,
    ];
}

// PHP 8.1: Fatal error: Constant expression contains invalid operations
// PHP 8.2: array(3) {
//   [0]=>
//   string(10) "Bulasaur"
//   [1]=>
//   string(10) "Charmander"
//   [2]=>
//   string(8) "Squirtle"
// }
var_dump(Kanto::POKEMON);
```

## Constants in Traits

```php
trait HeavyDrinker {
    public const MINIMUM = 5;
  
    public function drink() {
	    …
    }
}

class Homer {
    use HeavyDrinker;
}

class Barney {
    use HeavyDrinker;
}
```
